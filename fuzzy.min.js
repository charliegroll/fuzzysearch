/** @preserve
 * fuzzysearch
 * MIT licensed
 *
 * Copyright (C) 2013 Charlie Groll, http://charliegroll.com
 */
var Fuzzy=function(){var e={};e.result={1:[],2:[],3:[],4:[]};e.indexes={1:[],2:[],3:[],4:[]};e.flatten=function(e){if(typeof e==="undefined"){return[]}else if(typeof e!=="object"){throw"Flatten takes an object as input!"}else if(e instanceof Array){return e}var r=[],t=Object.keys(e);t.forEach(function(t,n){r=r.concat(e[t])});return r};e.search=function(t,n,f){f=typeof f!=="undefined"?f:false;if(!(t instanceof Array)){throw"Fuzzy requires an array input!"}if(typeof n!=="string"){throw"Fuzzy requires a string query!"}var i=t.slice(0),a=t.slice(0);var s=function(r,n,f){e.result[n].push(r);e.indexes[n].push(a.indexOf(r));t.splice(f,1);i.splice(f,1)};if(!f){n=n.toLowerCase();for(var u=0;u<t.length;u++){t[u]=t[u].toLowerCase()}}var o=r(n.toLowerCase(),false);for(var u=0;u<t.length;u++){var l=t[u],c=i[u],v=l.split(" "),d=false;if(v[0].indexOf(n)===0){s(c,"1",u);d=true}else{for(var h=0;h<v.length;h++){var p=v[h];if(p.indexOf(n)===0){s(c,"2",u);d=true;break}}if(!d){for(var h=0;h<v.length;h++){var p=v[h];if(p.indexOf(n)!==-1){s(c,"3",u);d=true;break}}}if(!d){var y=r(l);d=true;for(var h=0;h<o.length;h++){if(y.indexOf(o[h])===-1){d=false;break}}if(d){s(c,"4",u)}}}if(d){u--}}return e.result};e.clear=function(){this.result={1:[],2:[],3:[],4:[]};this.indexes={1:[],2:[],3:[],4:[]}};var r=function(e,r){var t=[];r=typeof r!=="undefined"?r:true;for(var n=0;n<e.length;n++){if(e[n]!=" "){t.push(e[n])}}return t};return e}();if(typeof exports!=="undefined"){exports.Fuzzy=Fuzzy}